# =============================================================================
# Car Marketplace Philippines API - Environment Configuration
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:3000,http://localhost:3001

# =============================================================================
# DATABASE CONFIGURATION (MySQL 8.0+)
# =============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=car_marketplace_user
DB_PASSWORD=your_secure_password_here
DB_NAME=car_marketplace_ph
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_RETRY_DELAY_ON_FAILURE=5000
REDIS_MAX_RETRIES_PER_REQUEST=3

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
JWT_ALGORITHM=HS256

# =============================================================================
# EMAIL CONFIGURATION (Nodemailer)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM_NAME=Car Marketplace Philippines
EMAIL_FROM_ADDRESS=noreply@carmarketplace.ph

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================
UPLOAD_PATH=./uploads
MAX_FILE_SIZE=10485760
PUBLIC_URL=http://localhost:3000
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# Image Processing
THUMBNAIL_SIZE=300
MEDIUM_SIZE=800
LARGE_SIZE=1200
IMAGE_QUALITY=85

# =============================================================================
# EXTERNAL API SERVICES
# =============================================================================

# Google Maps API (for geocoding and location services)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# PayMongo (Philippines Payment Gateway)
PAYMONGO_PUBLIC_KEY=pk_test_your-paymongo-public-key
PAYMONGO_SECRET_KEY=sk_test_your-paymongo-secret-key

# GCash API (Optional - for direct GCash integration)
GCASH_MERCHANT_ID=your-gcash-merchant-id
GCASH_API_KEY=your-gcash-api-key

# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Firebase (for push notifications)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# =============================================================================
# SECURITY & RATE LIMITING
# =============================================================================

# Rate Limiting (requests per window)
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_PASSWORD_RESET_MAX=3

# Security Headers
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_REALTIME=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_FRAUD_DETECTION=true
ENABLE_ANALYTICS=true
ENABLE_IMAGE_RECOGNITION=false
ENABLE_AUTO_MODERATION=true

# =============================================================================
# PHILIPPINES SPECIFIC CONFIGURATION
# =============================================================================

# Philippines Geographic Bounds
PH_BOUNDS_NORTH=21.0
PH_BOUNDS_SOUTH=4.0
PH_BOUNDS_EAST=127.0
PH_BOUNDS_WEST=116.0

# Default Location (Manila)
PH_DEFAULT_CITY_ID=1
PH_DEFAULT_LAT=14.5995
PH_DEFAULT_LNG=120.9842

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14

# Console logging for development
LOG_CONSOLE=true
LOG_COLORIZE=true

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Memory Cache Settings
MEMORY_CACHE_MAX=1000
MEMORY_CACHE_TTL=300000

# Background Job Settings
QUEUE_CONCURRENCY=5
QUEUE_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000

# Database Query Timeouts
DB_QUERY_TIMEOUT=30000
REDIS_COMMAND_TIMEOUT=5000

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Application Performance Monitoring
APM_SERVICE_NAME=car-marketplace-philippines-api
APM_ENVIRONMENT=development

# Analytics Data Retention
ANALYTICS_RETENTION_DAYS=365
LOG_RETENTION_DAYS=30

# =============================================================================
# SSL/HTTPS CONFIGURATION (Production)
# =============================================================================
HTTPS_ENABLED=false
HTTPS_KEY_PATH=
HTTPS_CERT_PATH=
HTTPS_CA_PATH=

# =============================================================================
# DEVELOPMENT/TESTING CONFIGURATION
# =============================================================================

# Test Database (for running tests)
TEST_DB_NAME=car_marketplace_ph_test
TEST_REDIS_DB=1

# Development Settings
DEV_BYPASS_AUTH=false
DEV_SEED_DATABASE=false
DEV_AUTO_MIGRATE=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# When NODE_ENV=production, ensure you update:
#
# 1. JWT_SECRET - Use a strong, random secret
# 2. Database credentials - Use production database
# 3. Redis credentials - Use production Redis
# 4. SMTP settings - Use production email service
# 5. API keys - Use production API keys
# 6. CORS_ORIGIN - Set to your production domain
# 7. PUBLIC_URL - Set to your production domain
# 8. HTTPS_ENABLED=true with proper certificates
# 9. LOG_LEVEL=warn or error
# 10. Remove all test/development flags
#
# Security Checklist for Production:
# - [ ] Change all default passwords
# - [ ] Use environment-specific secrets
# - [ ] Enable HTTPS with valid certificates
# - [ ] Configure proper firewall rules
# - [ ] Set up monitoring and alerting
# - [ ] Enable database backups
# - [ ] Configure log rotation
# - [ ] Set up rate limiting rules
# - [ ] Review and restrict CORS origins
# - [ ] Enable all security headers
# =============================================================================